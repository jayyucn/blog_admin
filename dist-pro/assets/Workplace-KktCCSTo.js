var x=(t,o,i)=>new Promise((C,h)=>{var S=p=>{try{w(i.next(p))}catch(k){h(k)}},v=p=>{try{w(i.throw(p))}catch(k){h(k)}},w=p=>p.done?C(p.value):Promise.resolve(p.value).then(S,v);w((i=i.apply(t,o)).next())});import{_ as R}from"./avatar-fHjoiFgL.js";import{n as q,E as z,h as E,c as F,F as G}from"./index-_6ODb6pb.js";import{e as J,u as e,l as U,r as X,J as $,ah as H,m as u,p as g,q as l,O as a,R as s,U as r,V as j,P as b,W as P,a7 as O}from"./vue-chunks-lfjuOEhN.js";/* empty css               *//* empty css                         *//* empty css                *//* empty css                   *//* empty css                */import{_ as N}from"./CountTo.vue_vue_type_script_setup_true_lang-ER9WDHdF.js";import{r as K,_ as Q}from"./Echart.vue_vue_type_script_setup_true_lang-bmD9ybRs.js";import{_ as Y}from"./Highlight.vue_vue_type_script_lang-RlK3863R.js";import{aa as y,q as A,r as _,p as I,u as f,D,X as B}from"./element-plus-jCRIyYSE.js";import"./echarts-FSTbgKd3.js";const Z={"zh-CN":{justNow:"刚刚",invalid:"无效时间",past:t=>t.match(/\d/)?`${t}前`:t,future:t=>t.match(/\d/)?`${t}后`:t,month:(t,o)=>t===1?o?"上个月":"下个月":`${t} 个月`,year:(t,o)=>t===1?o?"去年":"明年":`${t} 年`,day:(t,o)=>t===1?o?"昨天":"明天":`${t} 天`,week:(t,o)=>t===1?o?"上周":"下周":`${t} 周`,hour:t=>`${t} 小时`,minute:t=>`${t} 分钟`,second:t=>`${t} 秒`},en:{justNow:"刚刚",invalid:"Invalid Date",past:t=>t.match(/\d/)?`${t} ago`:t,future:t=>t.match(/\d/)?`in ${t}`:t,month:(t,o)=>t===1?o?"last month":"next month":`${t} month${t>1?"s":""}`,year:(t,o)=>t===1?o?"last year":"next year":`${t} year${t>1?"s":""}`,day:(t,o)=>t===1?o?"yesterday":"tomorrow":`${t} day${t>1?"s":""}`,week:(t,o)=>t===1?o?"last week":"next week":`${t} week${t>1?"s":""}`,hour:t=>`${t} hour${t>1?"s":""}`,minute:t=>`${t} minute${t>1?"s":""}`,second:t=>`${t} second${t>1?"s":""}`}},ee=t=>{const o=q(),i=J(()=>o.getCurrentLocale);return z(t,{messages:Z[e(i).lang]})},te=()=>E.get({url:"/mock/workplace/total"}),ae=()=>E.get({url:"/mock/workplace/project"}),se=()=>E.get({url:"/mock/workplace/dynamic"}),le=()=>E.get({url:"/mock/workplace/team"}),oe=()=>E.get({url:"/mock/workplace/radar"}),re={class:"flex items-center"},ne=l("img",{src:R,alt:"",class:"w-70px h-70px rounded-[50%] mr-20px"},null,-1),ce={class:"text-20px"},de={class:"mt-10px text-14px text-gray-500"},ie={class:"flex h-70px items-center justify-end lt-sm:mt-20px"},pe={class:"px-8px text-right"},ue={class:"text-14px text-gray-400 mb-20px"},me={class:"px-8px text-right"},xe={class:"text-14px text-gray-400 mb-20px"},_e={class:"px-8px text-right"},fe={class:"text-14px text-gray-400 mb-20px"},he={class:"flex justify-between"},ge={class:"flex items-center"},ye={class:"text-16px"},ve={class:"mt-15px text-14px text-gray-400"},we={class:"mt-20px text-12px text-gray-400 flex justify-between"},ke={class:"flex justify-between"},$e={class:"flex items-center"},je=l("img",{src:R,alt:"",class:"w-35px h-35px rounded-[50%] mr-20px"},null,-1),be={class:"text-14px"},Ae={class:"mt-15px text-12px text-gray-400"},Ee={class:"flex items-center"},ze=U({__name:"Workplace",setup(t){const o=X(!0);let i=$({project:0,access:0,todo:0});const C=()=>x(this,null,function*(){const c=yield te().catch(()=>{});c&&(i=Object.assign(i,c.result))});let h=$([]);const S=()=>x(this,null,function*(){const c=yield ae().catch(()=>{});c&&(h=Object.assign(h,c.result))});let v=$([]);const w=()=>x(this,null,function*(){const c=yield se().catch(()=>{});c&&(v=Object.assign(v,c.result))});let p=$([]);const k=()=>x(this,null,function*(){const c=yield le().catch(()=>{});c&&(p=Object.assign(p,c.result))});let T=$(K);const V=()=>x(this,null,function*(){const c=yield oe().catch(()=>{});c&&(B(T,"radar.indicator",c.result.map(m=>({name:n(m.name),max:m.max}))),B(T,"series",[{name:`xxx${n("workplace.index")}`,type:"radar",data:[{value:c.result.map(m=>m.personal),name:n("workplace.personal")},{value:c.result.map(m=>m.team),name:n("workplace.team")}]}]))});x(this,null,function*(){yield Promise.all([C(),S(),w(),k(),V()]),o.value=!1});const{t:n}=F();return(c,m)=>{const L=H("Icon");return u(),g(b,null,[l("div",null,[a(e(f),{shadow:"never"},{default:s(()=>[a(e(y),{loading:o.value,animated:""},{default:s(()=>[a(e(A),{gutter:20,justify:"space-between"},{default:s(()=>[a(e(_),{xl:12,lg:12,md:12,sm:24,xs:24},{default:s(()=>[l("div",re,[ne,l("div",null,[l("div",ce,r(e(n)("workplace.goodMorning"))+"，Archer，"+r(e(n)("workplace.happyDay")),1),l("div",de,r(e(n)("workplace.toady"))+"，20℃ - 32℃！ ",1)])])]),_:1}),a(e(_),{xl:12,lg:12,md:12,sm:24,xs:24},{default:s(()=>[l("div",ie,[l("div",pe,[l("div",ue,r(e(n)("workplace.project")),1),a(e(N),{class:"text-20px","start-val":0,"end-val":e(i).project,duration:2600},null,8,["end-val"])]),a(e(I),{direction:"vertical"}),l("div",me,[l("div",xe,r(e(n)("workplace.toDo")),1),a(e(N),{class:"text-20px","start-val":0,"end-val":e(i).todo,duration:2600},null,8,["end-val"])]),a(e(I),{direction:"vertical","border-style":"dashed"}),l("div",_e,[l("div",fe,r(e(n)("workplace.access")),1),a(e(N),{class:"text-20px","start-val":0,"end-val":e(i).access,duration:2600},null,8,["end-val"])])])]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1})]),a(e(A),{class:"mt-20px",gutter:20,justify:"space-between"},{default:s(()=>[a(e(_),{xl:16,lg:16,md:24,sm:24,xs:24,class:"mb-20px"},{default:s(()=>[a(e(f),{shadow:"never"},{header:s(()=>[l("div",he,[l("span",null,r(e(n)("workplace.project")),1),a(e(D),{type:"primary",underline:!1},{default:s(()=>[j(r(e(n)("workplace.more")),1)]),_:1})])]),default:s(()=>[a(e(y),{loading:o.value,animated:""},{default:s(()=>[a(e(A),null,{default:s(()=>[(u(!0),g(b,null,O(e(h),(d,M)=>(u(),P(e(_),{key:`card-${M}`,xl:8,lg:8,md:12,sm:24,xs:24},{default:s(()=>[a(e(f),{shadow:"hover"},{default:s(()=>[l("div",ge,[a(L,{icon:d.icon,size:25,class:"mr-10px"},null,8,["icon"]),l("span",ye,r(d.name),1)]),l("div",ve,r(e(n)(d.message)),1),l("div",we,[l("span",null,r(d.personal),1),l("span",null,r(e(G)(d.time,"yyyy-MM-dd")),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["loading"])]),_:1}),a(e(f),{shadow:"never",class:"mt-20px"},{header:s(()=>[l("div",ke,[l("span",null,r(e(n)("workplace.dynamic")),1),a(e(D),{type:"primary",underline:!1},{default:s(()=>[j(r(e(n)("workplace.more")),1)]),_:1})])]),default:s(()=>[a(e(y),{loading:o.value,animated:""},{default:s(()=>[(u(!0),g(b,null,O(e(v),(d,M)=>(u(),g("div",{key:`dynamics-${M}`},[l("div",$e,[je,l("div",null,[l("div",be,[a(e(Y),{keys:d.keys.map(W=>e(n)(W))},{default:s(()=>[j(r(e(n)("workplace.pushCode")),1)]),_:2},1032,["keys"])]),l("div",Ae,r(e(ee)(d.time)),1)])]),a(e(I))]))),128))]),_:1},8,["loading"])]),_:1})]),_:1}),a(e(_),{xl:8,lg:8,md:24,sm:24,xs:24,class:"mb-20px"},{default:s(()=>[a(e(f),{shadow:"never"},{header:s(()=>[l("span",null,r(e(n)("workplace.shortcutOperation")),1)]),default:s(()=>[a(e(y),{loading:o.value,animated:""},{default:s(()=>[a(e(A),null,{default:s(()=>[(u(),g(b,null,O(9,d=>a(e(_),{key:`card-${d}`,xl:12,lg:12,md:12,sm:24,xs:24,class:"mb-10px"},{default:s(()=>[a(e(D),{type:"default",underline:!1},{default:s(()=>[j(r(e(n)("workplace.operation"))+r(d),1)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1},8,["loading"])]),_:1}),a(e(f),{shadow:"never",class:"mt-20px"},{header:s(()=>[l("span",null,"xx"+r(e(n)("workplace.index")),1)]),default:s(()=>[a(e(y),{loading:o.value,animated:""},{default:s(()=>[a(e(Q),{options:e(T),height:400},null,8,["options"])]),_:1},8,["loading"])]),_:1}),a(e(f),{shadow:"never",class:"mt-20px"},{header:s(()=>[l("span",null,r(e(n)("workplace.team")),1)]),default:s(()=>[a(e(y),{loading:o.value,animated:""},{default:s(()=>[a(e(A),null,{default:s(()=>[(u(!0),g(b,null,O(e(p),d=>(u(),P(e(_),{key:`team-${d.name}`,span:12,class:"mb-20px"},{default:s(()=>[l("div",Ee,[a(L,{icon:d.icon,class:"mr-10px"},null,8,["icon"]),a(e(D),{type:"default",underline:!1},{default:s(()=>[j(r(d.name),1)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})],64)}}});export{ze as default};
