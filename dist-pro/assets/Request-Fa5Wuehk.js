var o=(k,m,e)=>new Promise((p,q)=>{var d=u=>{try{n(e.next(u))}catch(i){q(i)}},f=u=>{try{n(e.throw(u))}catch(i){q(i)}},n=u=>u.done?p(u.value):Promise.resolve(u.value).then(d,f);n((e=e.apply(k,m)).next())});import{_ as B}from"./ContentWrap.vue_vue_type_script_setup_true_lang-O7f5wURp.js";import{h as r,c as A}from"./index-_6ODb6pb.js";/* empty css                   */import{p as V}from"./element-plus-jCRIyYSE.js";import{l as E,r as N,ah as D,m as S,W as T,R as a,U as I,q as O,V as c,O as l,u as v}from"./vue-chunks-lfjuOEhN.js";/* empty css                */import"./el-tooltip-w40geAFS.js";/* empty css                  */const U=()=>r.get({url:"/mock/request/1"}),W=()=>r.get({url:"/mock/request/2"}),$=()=>r.get({url:"/mock/request/3"}),b=()=>r.get({url:"/mock/request/4"}),j=()=>r.get({url:"/mock/request/5"}),z=()=>r.get({url:"/mock/request/expired"}),X=E({__name:"Request",setup(k){const{t:m}=A(),e=N(new Set),p=()=>o(this,null,function*(){if(!e.value.has("/request/1"))try{e.value.add("/request/1");const t=yield U()}catch(t){}finally{e.value.delete("/request/1")}}),q=()=>o(this,null,function*(){if(!e.value.has("/request/2"))try{e.value.add("/request/2");const t=yield W()}catch(t){}finally{e.value.delete("/request/2")}}),d=()=>o(this,null,function*(){if(!e.value.has("/request/3"))try{e.value.add("/request/3");const t=yield $()}catch(t){}finally{e.value.delete("/request/3")}}),f=()=>o(this,null,function*(){if(!e.value.has("/request/4"))try{e.value.add("/request/4");const t=yield b()}catch(t){}finally{e.value.delete("/request/4")}}),n=()=>o(this,null,function*(){if(!e.value.has("/request/5"))try{e.value.add("/request/5");const t=yield j()}catch(t){}finally{e.value.delete("/request/5")}}),u=()=>{p(),q(),d(),f(),n()},i=()=>{r.cancelAllRequest(),e.value.clear()},h=t=>{const y=[];return t.forEach(s=>{y.push(s)}),y},_=()=>{if(e.value.has("/request/1")){r.cancelRequest("/request/1"),e.value.delete("/request/1");return}p()},g=()=>{if(e.value.has("/request/2")){r.cancelRequest("/request/2"),e.value.delete("/request/2");return}q()},R=()=>{if(e.value.has("/request/3")){r.cancelRequest("/request/3"),e.value.delete("/request/3");return}d()},C=()=>{if(e.value.has("/request/4")){r.cancelRequest("/request/4"),e.value.delete("/request/4");return}f()},w=()=>{if(e.value.has("/request/5")){r.cancelRequest("/request/5"),e.value.delete("/request/5");return}n()},x=()=>{z()};return(t,y)=>{const s=D("BaseButton");return S(),T(v(B),{title:v(m)("router.request")},{default:a(()=>[O("p",null,"正在请求的接口："+I(h(e.value)),1),l(s,{type:"primary",onClick:_},{default:a(()=>[c("请求/取消request1")]),_:1}),l(s,{type:"primary",onClick:g},{default:a(()=>[c("请求/取消request2")]),_:1}),l(s,{type:"primary",onClick:R},{default:a(()=>[c("请求/取消request3")]),_:1}),l(s,{type:"primary",onClick:C},{default:a(()=>[c("请求/取消request4")]),_:1}),l(s,{type:"primary",onClick:w},{default:a(()=>[c("请求/取消request5")]),_:1}),l(s,{type:"primary",onClick:u},{default:a(()=>[c("发送五个请求")]),_:1}),l(s,{type:"primary",onClick:i},{default:a(()=>[c("关闭所有请求")]),_:1}),l(v(V)),l(s,{type:"primary",onClick:x},{default:a(()=>[c("token过期")]),_:1})]),_:1},8,["title"])}}});export{X as default};
