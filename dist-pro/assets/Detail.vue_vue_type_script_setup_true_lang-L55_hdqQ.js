var h=(n,p,i)=>new Promise((g,r)=>{var b=t=>{try{m(i.next(t))}catch(e){r(e)}},f=t=>{try{m(i.throw(t))}catch(e){r(e)}},m=t=>t.done?g(t.value):Promise.resolve(t.value).then(b,f);m((i=i.apply(n,p)).next())});import{D as _}from"./Descriptions-qz0YGORT.js";import{f as v}from"./index-_6ODb6pb.js";/* empty css               *//* empty css                *//* empty css                    */import{g as y}from"./index-aXfnUjh-.js";import{k as L,i as k}from"./element-plus-jCRIyYSE.js";import{l as w,r as d,O as l,u,P as D,m as N,W as T,y as j,n as O}from"./vue-chunks-lfjuOEhN.js";function M(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!j(n)}const I=w({__name:"Detail",props:{currentRow:{type:Object,default:()=>{}}},setup(n){const p=e=>{var c,a,s;const o=v(((c=u(r))==null?void 0:c.permissionList)||[],x=>x.value===e);return(s=(((a=u(r))==null?void 0:a.permissionList)||[])[o].label)!=null?s:""},i=e=>l(k,{type:e?"success":"danger"},{default:()=>[e?"启用":"禁用"]}),g=d(),r=d(),b=e=>{r.value=e},f=d([]);h(this,null,function*(){const e=yield y();e&&(f.value=e.result.list,yield O())});const t=d([{field:"roleName",label:"角色名称"},{field:"status",label:"状态",slots:{default:e=>i(e.status)}},{field:"remark",label:"备注",span:24},{field:"permissionList",label:"菜单分配",span:24,slots:{default:()=>{var e,o,c;return l(D,null,[l("div",{class:"flex w-full"},[l("div",{class:"flex-1"},[l(L,{ref:g,"node-key":"id",props:{children:"children",label:"title"},"highlight-current":!0,"expand-on-click-node":!1,data:f.value,"onNode-click":b},{default:a=>{var s;return l("span",null,[(s=a==null?void 0:a.data)==null?void 0:s.title])}})]),l("div",{class:"flex-1"},[u(r)?(c=(o=(e=u(r))==null?void 0:e.meta)==null?void 0:o.permission)==null?void 0:c.map(a=>{let s;return l(k,{class:"ml-2 mt-2"},M(s=p(a))?s:{default:()=>[s]})}):null])])])}}}]);return(e,o)=>(N(),T(u(_),{schema:t.value,data:n.currentRow||{}},null,8,["schema","data"]))}});export{I as _};
