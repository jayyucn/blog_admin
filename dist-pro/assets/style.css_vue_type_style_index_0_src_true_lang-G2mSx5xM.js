var p=(l,f,s)=>new Promise((g,c)=>{var a=e=>{try{r(s.next(e))}catch(d){c(d)}},m=e=>{try{r(s.throw(e))}catch(d){c(d)}},r=e=>e.done?g(e.value):Promise.resolve(e.value).then(a,m);r((s=s.apply(l,f)).next())});import{z as k,T as O,E as V}from"./wang-editor-5PfzxRfe.js";import{p as b,o as x,A as S,x as T}from"./index-_6ODb6pb.js";import{b as u}from"./element-plus-jCRIyYSE.js";import{l as z,e as h,u as n,s as N,r as A,w as C,z as B,m as R,p as U,O as y,T as _,n as L}from"./vue-chunks-lfjuOEhN.js";const j={class:"border-1 border-solid border-[var(--el-border-color)] z-10"},D=z({__name:"Editor",props:{editorId:b.string.def("wangeEditor-1"),height:b.oneOfType([Number,String]).def("500px"),editorConfig:{type:Object,default:()=>{}},modelValue:b.string.def("")},emits:["change","update:modelValue"],setup(l,{expose:f,emit:s}){const g=x(),c=h(()=>g.getCurrentLocale);k(n(c).lang);const a=l,m=s,r=N(),e=A("");C(()=>a.modelValue,o=>{o!==n(e)&&(e.value=o)},{immediate:!0}),C(()=>e.value,o=>{m("update:modelValue",o)});const d=o=>{r.value=o},w=h(()=>Object.assign({readOnly:!1,customAlert:(t,i)=>{switch(i){case"success":u.success(t);break;case"info":u.info(t);break;case"warning":u.warning(t);break;case"error":u.error(t);break;default:u.info(t);break}},autoFocus:!1,scroll:!0,uploadImgShowBase64:!0},a.editorConfig||{MENU_CONF:{uploadImage:{customUpload(t,i){return p(this,null,function*(){const v=yield S.Common.postStaticApi({file:t,name:t.name});i(v.url,null,v.url)})}}}})),I=h(()=>({height:T(a.height)?`${a.height}px`:a.height})),E=o=>{m("change",o)};return B(()=>{const o=n(r.value);o==null||o.destroy()}),f({getEditorRef:()=>p(this,null,function*(){return yield L(),n(r.value)})}),(o,t)=>(R(),U("div",j,[y(n(O),{editor:r.value,editorId:l.editorId,class:"border-0 b-b-1 border-solid border-[var(--el-border-color)]"},null,8,["editor","editorId"]),y(n(V),{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=i=>e.value=i),editorId:l.editorId,defaultConfig:w.value,style:_(I.value),onOnChange:E,onOnCreated:d},null,8,["modelValue","editorId","defaultConfig","style"])]))}});export{D as _};
